/* @pjs preload="https://lh3.googleusercontent.com/LuLbqmIrYITzoeU2P068RYbyWsTL2AaOGhogHAG4QBaQ2cDRG5TX0GaCL7j0t4m1uzaIrQl0lMsZWfJOqh-S8BI3VJ480ozox4YdF5XES5caBiK7FryBIXTAWQNroziCpsmKSy9mqSF1GozaltzZHOBYjOV3LUJPmSk6bqo3GUDzwO39yqtFcUr7Z4CRaLtfNoW8qrIvrxQa1l8EpmT845YNpKlow1zJ61A0qjxbnn1QH0ltso5Wpx5XA8u19CJySOldALRk1EJpk_9Ln30t1pnjEanPy81I662Anbw01nqBGeRv2fJlNBaIGVVMu7VS8ir5fYeJ_T5gmNNxlmt69ehPCxx0y0U-N5nRbrYSmjrtbjA8SQh0JO14KYTduDBhdXUbKqZTX2EKgUMpNID322ZjLLKGNA4_IBUT4uZdfDXHihdfGM64GP4svtpq5a0s_faUQXIq5imxv_ebEzyuF2kK3I3bcEJZic2Uc0BagPu3JbuOtcPOdwMG2TYqFek2P-U3NNLXhG2FVDeKwUpPVxJknMNOJhXhKbfjL4GHjggx_PETsi5xdPMm7Q-f9Jb_pJZUjwPCrCV3ztR1L1KBui2QUgYl0WGnxy0q_pjtDSrO9sz4130-4TNOm1AcVnjjizZyJuVZsWL9p_Q4efvmxvcb3LZg4DpPf1HqepU4Yac8gXAf-2RsXA=s300-no";*/
/* @pjs preload="https://lh3.googleusercontent.com/sfQb8WdnH-K2k-RrVa0KZEarlbIi6jNiRezkcdbGmL8CkEE9MbgFTQT6q9_2AuUxonyAOSHpMvqctvbB-hqDebPfi4c082KP5GNQ7OVxI_t6oy_WBK9hG97bvJ0f8UHfn2_hD6YialWB32kfZfQNJRX2eB6xwp4W81NY66kkiXRumxXY94o4IbZpk-GP40WcJjS7lznFZ_xfpRtdgJuo-Lbr9YotrI2qbVlmRLQ3mBmQdvpVSId6KNMkEu87c-IMipsjC8GJC_SeBqoal1xfKay3fWkiymQwMrunsPk2dmv4Nat8XrWB5PMpfCyGJ9YfXBOSusP4S5J5qVHIqDLxS2208o6dSogt2GaPI4ocWVN9dVkY9dRBhd1-cam2YXfPca9ooeCCB81tAIajr6bTvzs8CS4zXLBHwEod4M-99QTeDbrBy2WyuDKi5Esz_qErvqdHVyrqDQXUoXgYA-Gqptns254IAux9WL8SVVkIyYFx31NaZAbwMDLeJkuoWMROtwUAiFzFxrR7wiCjtsUOFA29hsduI-ATCB91PP5MsoV3SY9IHSj56nBXL6kf8vhyr2nYM7xg5E0nsXMXiS_5OYRCLChhA2ZQZnugLxJ6rp4yOelDAnKqFa_MxD1O6zpN5fYdy7-nvFHQtvU4FOoyQCnJ_LQOiyMvhbJINZgqv_H7BifP0LIpgQ=s300-no";*/
/* @pjs preload="https://lh3.googleusercontent.com/PNmwt-7Y9tqBNnv4RSqpQ1wJ-pmVKT231N9Z8B4Bj4pCjebEwFAUEFYSIXyuK1UcsMXm0EjqhxSCoTSpAK89f7SpuAjhkzmy1KbgT7JOvVRh1FwIL97Go-JK5KQY6hC7O69Ad5Jz02Stgur8BAxnJFo0cq-WzDMF1oUqNes8w4xm8qIH9o21CemrkncKr_DTG5QS-JuHx-x2MffPPhfzbCHyNAVz5uv8GW3W89ZMgtQFMUSCedKPcpzh1Cv_FUopzUnhTNM2NUXajEkFEi48-aDcLcUm-yWoOQbQNTfJNCSQ0vvN2djzHD5IsY_s1lJ39rOmQsMbej1l3rxSr-lAy39r7J1rjz-pasAay2upQMHyQ7KM2e1ZgnrE55eXS6UY5J9EG4BVvfbCe4W_5-bm5oMkGTD7wR_ygbRqlOUqmlcBv_nZPEDWkGNrOIAcnT0FH-GTFn_HghpcXCVcfj1mBSMXeeMKnEe0_ShAuFFo0GynKp_H7EWkiUN2JcaBrQr5uYuwyVZJ96pjYvlVCDkVROErDFel_8d9n7wGdsmF6IGrZkKQZeIJO0j8GTiMtlfixRvHZHhaJLaIu1qMqX71NctXmm18ptczvH2ALwJripu7ivdQxajrDvJo43w26KyR87rWfE7q9lSo_MLSLgPX1jM3S4mB8ypJcMbvZVMN4qwTtZgYCj9UaA=s300-no";*/
/* @pjs preload="https://lh3.googleusercontent.com/cOlVST3VM6BdPNaMVNiQeEtvsfb_2MPeTTrruLZm7o4lhe5YGVCY-rUB4Z9rVkWc5_C4qZlK0tec1b1RnCFrJGO5RVJV-76ojUJVH1FLSI1AWBWCGJVKKuQ2oYKyUYO9i8G4Qmx8mEr8g864b27DfgaKY4zOxVaJUlPdfcVOeyH4cmy3mStL0ZjztEidogyE8CH1DXFWggmmhZDZcyFqHzi5tPiejBqCGCZgwTEg_v7BYBPrB1t3gOUyL33CltvZwSjXJ4XqpMzEku2wzwe4joa7sl9wLT9DsvBbyl_D7lThgf0UlVlcc_zWcAN6bVvYKry6fzKTwZNetV_9NIY3FSaMbtyOfUlINx_VwkilAwadajY2BnbPzob2Z8dJYoB7fhjNqLOP2Wn0ZVUcBcEP0uO_7RAADNjFx7RCMDsYJkoX-77izUsX2iV9eoIBaWB9_zC6NnvUCr25SpX3t9hIG0CIuwG4vX7jVrCXb1bzI0KuNR42dpUpDKQNi9OiyhGRxG-V2v_BlkYS3a_9mnekofa4us1WPignaWMMlrLXS9WiW-dFcqVWD5ncMxZ10_vf6eYZ610fKeQMPxP2Bru17fPbHnA9B1zFj0_g5fivVSLVs_cczHO0Yhmpqk8Wby78HkBGNAKjDu4qperSDVhfIy3pQ5JK4ceTBTAWd_1SHoCf98DBA3VWiA=s300-no";*/


int games = 1;
int []HS = new int[100];
float xPos;                              //X Position of Snake Head
float yPos;                              //Y Position of Snake Head
int headRow = 6;
int headCol = 5;

float xDot;
float yDot;
int dotRow = 2;
int dotCol = 2;

int rows = 20;
int cols = 20;
int[][]SB = new int[cols][rows];

int newDot = 0;
int dotCount = 1;
PImage snake1,snake2,snake3,snake4;
int dir = 2;

float time =0;
int move = 0;
int moveTime = 250;

int prevTime = 0;
int prevTime2 = 0;
int prevDC = 0;


void setup(){
 size(1000,1000); 
 
 snake1 = loadImage("https://lh3.googleusercontent.com/LuLbqmIrYITzoeU2P068RYbyWsTL2AaOGhogHAG4QBaQ2cDRG5TX0GaCL7j0t4m1uzaIrQl0lMsZWfJOqh-S8BI3VJ480ozox4YdF5XES5caBiK7FryBIXTAWQNroziCpsmKSy9mqSF1GozaltzZHOBYjOV3LUJPmSk6bqo3GUDzwO39yqtFcUr7Z4CRaLtfNoW8qrIvrxQa1l8EpmT845YNpKlow1zJ61A0qjxbnn1QH0ltso5Wpx5XA8u19CJySOldALRk1EJpk_9Ln30t1pnjEanPy81I662Anbw01nqBGeRv2fJlNBaIGVVMu7VS8ir5fYeJ_T5gmNNxlmt69ehPCxx0y0U-N5nRbrYSmjrtbjA8SQh0JO14KYTduDBhdXUbKqZTX2EKgUMpNID322ZjLLKGNA4_IBUT4uZdfDXHihdfGM64GP4svtpq5a0s_faUQXIq5imxv_ebEzyuF2kK3I3bcEJZic2Uc0BagPu3JbuOtcPOdwMG2TYqFek2P-U3NNLXhG2FVDeKwUpPVxJknMNOJhXhKbfjL4GHjggx_PETsi5xdPMm7Q-f9Jb_pJZUjwPCrCV3ztR1L1KBui2QUgYl0WGnxy0q_pjtDSrO9sz4130-4TNOm1AcVnjjizZyJuVZsWL9p_Q4efvmxvcb3LZg4DpPf1HqepU4Yac8gXAf-2RsXA=s300-no", "png");
 snake2 = loadImage("https://lh3.googleusercontent.com/sfQb8WdnH-K2k-RrVa0KZEarlbIi6jNiRezkcdbGmL8CkEE9MbgFTQT6q9_2AuUxonyAOSHpMvqctvbB-hqDebPfi4c082KP5GNQ7OVxI_t6oy_WBK9hG97bvJ0f8UHfn2_hD6YialWB32kfZfQNJRX2eB6xwp4W81NY66kkiXRumxXY94o4IbZpk-GP40WcJjS7lznFZ_xfpRtdgJuo-Lbr9YotrI2qbVlmRLQ3mBmQdvpVSId6KNMkEu87c-IMipsjC8GJC_SeBqoal1xfKay3fWkiymQwMrunsPk2dmv4Nat8XrWB5PMpfCyGJ9YfXBOSusP4S5J5qVHIqDLxS2208o6dSogt2GaPI4ocWVN9dVkY9dRBhd1-cam2YXfPca9ooeCCB81tAIajr6bTvzs8CS4zXLBHwEod4M-99QTeDbrBy2WyuDKi5Esz_qErvqdHVyrqDQXUoXgYA-Gqptns254IAux9WL8SVVkIyYFx31NaZAbwMDLeJkuoWMROtwUAiFzFxrR7wiCjtsUOFA29hsduI-ATCB91PP5MsoV3SY9IHSj56nBXL6kf8vhyr2nYM7xg5E0nsXMXiS_5OYRCLChhA2ZQZnugLxJ6rp4yOelDAnKqFa_MxD1O6zpN5fYdy7-nvFHQtvU4FOoyQCnJ_LQOiyMvhbJINZgqv_H7BifP0LIpgQ=s300-no", "png");
 snake3 = loadImage("https://lh3.googleusercontent.com/PNmwt-7Y9tqBNnv4RSqpQ1wJ-pmVKT231N9Z8B4Bj4pCjebEwFAUEFYSIXyuK1UcsMXm0EjqhxSCoTSpAK89f7SpuAjhkzmy1KbgT7JOvVRh1FwIL97Go-JK5KQY6hC7O69Ad5Jz02Stgur8BAxnJFo0cq-WzDMF1oUqNes8w4xm8qIH9o21CemrkncKr_DTG5QS-JuHx-x2MffPPhfzbCHyNAVz5uv8GW3W89ZMgtQFMUSCedKPcpzh1Cv_FUopzUnhTNM2NUXajEkFEi48-aDcLcUm-yWoOQbQNTfJNCSQ0vvN2djzHD5IsY_s1lJ39rOmQsMbej1l3rxSr-lAy39r7J1rjz-pasAay2upQMHyQ7KM2e1ZgnrE55eXS6UY5J9EG4BVvfbCe4W_5-bm5oMkGTD7wR_ygbRqlOUqmlcBv_nZPEDWkGNrOIAcnT0FH-GTFn_HghpcXCVcfj1mBSMXeeMKnEe0_ShAuFFo0GynKp_H7EWkiUN2JcaBrQr5uYuwyVZJ96pjYvlVCDkVROErDFel_8d9n7wGdsmF6IGrZkKQZeIJO0j8GTiMtlfixRvHZHhaJLaIu1qMqX71NctXmm18ptczvH2ALwJripu7ivdQxajrDvJo43w26KyR87rWfE7q9lSo_MLSLgPX1jM3S4mB8ypJcMbvZVMN4qwTtZgYCj9UaA=s300-no", "png");
 snake4 = loadImage("https://lh3.googleusercontent.com/cOlVST3VM6BdPNaMVNiQeEtvsfb_2MPeTTrruLZm7o4lhe5YGVCY-rUB4Z9rVkWc5_C4qZlK0tec1b1RnCFrJGO5RVJV-76ojUJVH1FLSI1AWBWCGJVKKuQ2oYKyUYO9i8G4Qmx8mEr8g864b27DfgaKY4zOxVaJUlPdfcVOeyH4cmy3mStL0ZjztEidogyE8CH1DXFWggmmhZDZcyFqHzi5tPiejBqCGCZgwTEg_v7BYBPrB1t3gOUyL33CltvZwSjXJ4XqpMzEku2wzwe4joa7sl9wLT9DsvBbyl_D7lThgf0UlVlcc_zWcAN6bVvYKry6fzKTwZNetV_9NIY3FSaMbtyOfUlINx_VwkilAwadajY2BnbPzob2Z8dJYoB7fhjNqLOP2Wn0ZVUcBcEP0uO_7RAADNjFx7RCMDsYJkoX-77izUsX2iV9eoIBaWB9_zC6NnvUCr25SpX3t9hIG0CIuwG4vX7jVrCXb1bzI0KuNR42dpUpDKQNi9OiyhGRxG-V2v_BlkYS3a_9mnekofa4us1WPignaWMMlrLXS9WiW-dFcqVWD5ncMxZ10_vf6eYZ610fKeQMPxP2Bru17fPbHnA9B1zFj0_g5fivVSLVs_cczHO0Yhmpqk8Wby78HkBGNAKjDu4qperSDVhfIy3pQ5JK4ceTBTAWd_1SHoCf98DBA3VWiA=s300-no", "png");

math();
  time = millis();
}

void draw(){
  background(255); 
  //snakeGrid();                            //includes grid lines and square values to troubleshoot
  moves(); 
  dot();
  timer();
  snakes();
 }
void math(){
 for(int j = 0; j <cols; j++){
    for(int k = 0; k <rows; k++){
      SB[j][k] = 0;
    }
  } 
}
void snakeGrid(){
  fill(0);
  textSize(8);
  text(dotCount,40,60);
  for(int i = 0; i<rows; i++){
    line(10*i,0,10*i,1000);
    line(0,10*i,1000,10*i);
  }
  for(int j = 0; j <cols; j++){
    for(int k = 0; k <rows; k++){
      text(SB[j][k],10*j+4, 10*k+10);
    }
  }
}

void moves(){
  SB[headCol][headRow] = dotCount;
  if(move ==1){
    Dir();
    crash2();
    crash();
    tail();
  }
}

void snakes(){
  xPos = 50*headCol + 25;
  yPos = 50*headRow + 25;
  fill(50,220,50);
  ellipse(xPos, yPos, 10,10);
  for(int j = 0; j <cols; j++){
    for(int k = 0; k <rows; k++){
      if(SB[j][k] >0){
        if(SB[j][k]<dotCount){
          //noStroke();
          rect(50*j, 50*k, 50,50, 25);
        //ellipse(50*j+25, 50*k+25, 50,50);
        }
        if(SB[j][k]==dotCount){
          if(dir==3){
          image(snake1,50*j-5, 50*k-5, 60,60);
          }
           if(dir==2){
          image(snake2,50*j-5, 50*k-5, 60,60);
          }
           if(dir==1){
          image(snake3,50*j-5, 50*k-5, 60,60);
          }
           if(dir==4){
          image(snake4,50*j-5, 50*k-5, 60,60);
          }
        }
      }
    }
  }  
  fill(0);
  rect(0,0,1000,50);
  fill(255,0,0);
  textSize(24);
  text(dotCount,475,25);
   text("Best Score",150,20);
    text(HS[games-1], 200,40);
}

void dot(){
  if(newDot == 1){
    dotCol = int(random(1,19)); 
    dotRow = int(random(1,19)); 
    newDot = 0;
  }
  xDot = 50*dotCol + 25;
  yDot =50*dotRow + 25;
  fill(255,0,0);
  ellipse(xDot, yDot, 50,50);
  if(headCol == dotCol && headRow == dotRow){
    newDot = 1;
    dotCount = dotCount+1;
  }
}

void tail(){
  for(int j = 0; j <cols; j++){
    for(int k = 0; k <rows; k++){
      if(SB[j][k] >0){
        SB[j][k] = SB[j][k] -1;
      }
    }
  }
}

void reset(){
  if(HS[games-1]<dotCount){
  HS[games-1] = dotCount;
  }
  dotCount = 1;
  for(int j = 0; j <cols; j++){
     for(int k = 0; k <rows; k++){
       if(SB[j][k] >0){
         SB[j][k] = 0;
       }
     }
   }
   headCol = 6;
   headRow = 5;
   
   prevTime2 = millis()-prevTime;
   text("Best Score",350,40);
    text(HS[games-1], 400,70);
   //time = millis();
}

void timer(){
  move = 0;
  if(millis() - time > moveTime){
    move = 1;
    time = millis();
  }
}

void crash(){
  if(SB[headCol][headRow] != 0){
    reset(); 
  }
  if (dotCount >5){
    moveTime=200;
  }
  if (dotCount >10){
    moveTime=150;
  }
  if (dotCount >15){
    moveTime=100;
  }
  if (dotCount >20){
    moveTime=50;
  }
}

void crash2(){
  if(headCol <0 || headCol > (cols-1) || headRow <1 || headRow >(rows-1)){
     reset(); 
  }
}

void Dir(){
    if(dir == 1 ){
      headRow = headRow -1;
    }
    if(dir == 2){
      headCol = headCol +1;
    }
    if(dir == 3){
      headRow = headRow +1;
    }
    if(dir == 4){
      headCol = headCol -1;
    }
}

void keyPressed(){
  if(keyCode == UP){
    dir = 1;
  }
  if(keyCode == DOWN){
    dir = 3;
  }
  if(keyCode == LEFT){
    dir = 4;
  }
  if(keyCode == RIGHT){
    dir = 2;
   }
 // print();
}

void print(){
  print(headCol);
  print(" ");
  println(headRow); 
}
